import { createSlice } from '@reduxjs/toolkit';

import SliceStatus from '../../models/SliceStatus';
import TrackersState from './TrackersState';
import { archiveTrackerReducer, archiveTrackersReducer } from './reducers/archive';
import { createTrackerReducer } from './reducers/create';
import { deleteTrackerReducer, deleteTrackersReducer } from './reducers/delete';
import { hideTrackerReducer } from './reducers/hide';
import { markTrackerAsActiveReducer, markTrackersAsActiveReducer } from './reducers/markAsActive';
import { markTrackerAsDoneReducer, markTrackersAsDoneReducer } from './reducers/markAsDone';
import { markTrackerAsVisibleReducer } from './reducers/markAsVisible';
import { unarchiveTrackersReducer } from './reducers/unarchive';
import { completelyValidateReducer, customValidateReducer } from './reducers/validate';

// ===== State

const initialState: TrackersState = {
  error: {},
  status: SliceStatus.idle,
  trackers: []
};

// ===== Thunk

// export const fetchAllTrackers = createAsyncThunk('trackers/fetchAllTrackers', async () => {
//   const response = await TrackersActions.fetchAll();
//   return response.data;
// });

// ===== Reducers

export const trackersSlice = createSlice({
  name: 'trackers',
  initialState,
  reducers: {
    archiveTracker: archiveTrackerReducer,
    archiveTrackers: archiveTrackersReducer,
    completelyValidate: completelyValidateReducer,
    createTracker: createTrackerReducer,
    customValidate: customValidateReducer,
    deleteTracker: deleteTrackerReducer,
    deleteTrackers: deleteTrackersReducer,
    hideTracker: hideTrackerReducer,
    markTrackersAsActive: markTrackersAsActiveReducer,
    markTrackersAsDone: markTrackersAsDoneReducer,
    markTrackerAsActive: markTrackerAsActiveReducer,
    markTrackerAsDone: markTrackerAsDoneReducer,
    markTrackerAsVisible: markTrackerAsVisibleReducer,
    unarchiveTrackers: unarchiveTrackersReducer
  }
  // The `extraReducers` field lets the slice handle actions defined elsewhere,
  // including actions generated by createAsyncThunk or in other slices.
  // extraReducers: (builder) => {})
});

export const {
  archiveTracker,
  archiveTrackers,
  createTracker,
  completelyValidate,
  customValidate,
  deleteTracker,
  deleteTrackers,
  hideTracker,
  markTrackerAsActive,
  markTrackersAsActive,
  markTrackerAsDone,
  markTrackersAsDone,
  markTrackerAsVisible,
  unarchiveTrackers
} = trackersSlice.actions;
export default trackersSlice.reducer;
